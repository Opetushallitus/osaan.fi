<div class="alert alert-warning alert-dismissible" role="alert" ng-if="ladattu">
  <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
  <p class="lead" translate="osien-valinta.arvio_ladattu_otsikko"></p>
  <p translate="osien-valinta.arvio_ladattu" translate-values="{luotuaika: (ladattu | date:'dd.MM.yyyy HH:mm:ss')}"></p>
</div>

<polku></polku>

<div class="panel panel-primary">
  <div class="panel-heading">
    <h3 class="panel-title">{{ 'tutkinto_osa.valitse' | translate }}</h3>
  </div>
  <div class="panel-body">

    <h2>{{ tutkinto | lokalisoiKentta:'nimi' }}</h2>

    <eperusteet-linkki kieli="{{kieli}}" eperustesivu="rakenne" eperustetunnus="{{tutkinto.peruste_eperustetunnus}}" eperustetyyppi="{{tutkinto.peruste_tyyppi}}" tutkintotunnus="{{tutkinto.tutkintotunnus}}" tutkintonimi="{{ tutkinto | lokalisoiKentta:'nimi' }}"></eperusteet-linkki>

    <h3 ng-if="(tutkinnonosat | filter: {pakollinen: true}).length" translate="osien-valinta.pakolliset_osat"></h3>
    <div ng-repeat="osa in tutkinnonosat | filter: {pakollinen: true}" class="checkbox">
      <label>
        <input type="checkbox" ng-model="valinnat[osa.osatunnus]">
        {{ osa | lokalisoiKentta:'nimi' }}
      </label>
    </div>

    <h3 ng-if="(tutkinnonosat | filter: {pakollinen: false}).length" translate="osien-valinta.valinnaiset_osat"></h3>
    <div ng-repeat="osa in tutkinnonosat | filter: {pakollinen: false}" class="checkbox">
      <label>
        <input type="checkbox" ng-model="valinnat[osa.osatunnus]">
        {{ osa | lokalisoiKentta:'nimi' }}
      </label>
    </div>

    <div class="alert alert-warning" role="alert" ng-if="onkoArvioita()">
      <p class="lead">{{ 'osien-valinta.arvioita_on' | translate}}</p>
      <p>
        {{ 'osien-valinta.poisto-teksti' | translate}}  &nbsp;&nbsp;
        <a class="btn btn-sm btn-danger" ng-click="poistaArviot()">
          <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
          {{ 'osien-valinta.poista_arviot' | translate}}
        </a>
      </p>
    </div>
  </div>
  <div class="panel-footer">
    <div class="row">
      <div class="col-md-12">
        <button class="btn btn-primary pull-right" ng-click="eteenpain()" ng-disabled="seuraavaTutkinnonosa() === undefined" role="button">
          {{ 'tutkinto_osa.arvioi' | translate}} &nbsp;
          <span class="glyphicon glyphicon-arrow-right" aria-hidden="true"></span>
        </button>

        <a class="btn btn-primary pull-left" href="#/" role="button">
          <span class="glyphicon glyphicon-arrow-left" aria-hidden="true"></span>&nbsp;
          {{ 'tutkinto_osa.valitse_tutkinto' | translate}}
        </a>
      </div>
    </div>
  </div>
</div>
